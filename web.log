{"level":"DEBUG","time":"2022-12-29T10:25:38.685+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"DEBUG","time":"2022-12-29T10:26:12.864+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"DEBUG","time":"2022-12-29T11:07:52.842+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"DEBUG","time":"2022-12-29T11:09:12.887+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"DEBUG","time":"2022-12-29T11:10:34.056+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"DEBUG","time":"2022-12-29T11:12:13.279+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"DEBUG","time":"2022-12-29T11:15:44.666+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"DEBUG","time":"2022-12-29T11:16:46.101+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"INFO","time":"2022-12-29T11:17:34.078+0800","caller":"logger/logger.go:79","msg":"/","status":200,"method":"GET","path":"/","query":"","ip":"127.0.0.1","user-agent":"PostmanRuntime/7.29.2","errors":"","cost":0.000913583}
{"level":"INFO","time":"2022-12-29T11:17:35.988+0800","caller":"logger/logger.go:79","msg":"/","status":200,"method":"GET","path":"/","query":"","ip":"127.0.0.1","user-agent":"PostmanRuntime/7.29.2","errors":"","cost":0.000012417}
{"level":"ERROR","time":"2022-12-29T11:18:27.270+0800","caller":"logger/logger.go:121","msg":"[Recovery from panic]","error":"runtime error: invalid memory address or nil pointer dereference","request":"POST /api/v1/user/register HTTP/1.1\r\nHost: 127.0.0.1:10000\r\nAccept: */*\r\nAccept-Encoding: gzip, deflate, br\r\nConnection: keep-alive\r\nContent-Length: 46\r\nContent-Type: application/json\r\nPostman-Token: 478c4303-ad8f-42e0-bb1f-2a515531823b\r\nUser-Agent: PostmanRuntime/7.29.2\r\n\r\n","stack":"goroutine 37 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:24 +0x64\ndouyin/logger.GinRecovery.func1.1()\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/logger/logger.go:124 +0x4e4\npanic({0x1050917a0, 0x1054eff70})\n\t/usr/local/go/src/runtime/panic.go:890 +0x26c\ngithub.com/jinzhu/gorm.(*Scope).callCallbacks.func1()\n\t/Users/inke226101m/workspace/pkg/mod/github.com/jinzhu/gorm@v1.9.16/scope.go:865 +0xcc\npanic({0x1050917a0, 0x1054eff70})\n\t/usr/local/go/src/runtime/panic.go:890 +0x26c\ndatabase/sql.(*DB).conn(0x0, {0x105143470, 0x14000134080}, 0x1)\n\t/usr/local/go/src/database/sql/sql.go:1288 +0x3c\ndatabase/sql.(*DB).query(0x0, {0x105143470, 0x14000134080}, {0x14000176480, 0x71}, {0x1400011b590, 0x1, 0x1}, 0x1)\n\t/usr/local/go/src/database/sql/sql.go:1730 +0x64\ndatabase/sql.(*DB).QueryContext(0x0, {0x105143470, 0x14000134080}, {0x14000176480, 0x71}, {0x1400011b590, 0x1, 0x1})\n\t/usr/local/go/src/database/sql/sql.go:1708 +0x98\ndatabase/sql.(*DB).Query(0x0, {0x14000176480, 0x71}, {0x1400011b590, 0x1, 0x1})\n\t/usr/local/go/src/database/sql/sql.go:1726 +0x74\ngithub.com/jinzhu/gorm.queryCallback(0x140004d5680)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/jinzhu/gorm@v1.9.16/callback_query.go:72 +0x810\ngithub.com/jinzhu/gorm.(*Scope).callCallbacks(0x140004d5680, {0x14000266c80, 0x3, 0x4})\n\t/Users/inke226101m/workspace/pkg/mod/github.com/jinzhu/gorm@v1.9.16/scope.go:869 +0xe4\ngithub.com/jinzhu/gorm.(*DB).First(0x1400027bee0, {0x1050421e0, 0x140001749a0}, {0x0, 0x0, 0x0})\n\t/Users/inke226101m/workspace/pkg/mod/github.com/jinzhu/gorm@v1.9.16/main.go:334 +0xdc\ndouyin/dao.GetUserData({0x1400002ddd8, 0x5})\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/dao/user_dao.go:34 +0x1b0\ndouyin/service.UserRegister({{0x1400002ddd8, 0x5}, {0x1400002dde0, 0x8}})\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/service/user_svc.go:23 +0x1b0\ndouyin/controller.UserRegisterHandler(0x14000140500)\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/controller/user_controller.go:18 +0x230\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000140500)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ndouyin/middlewares.SHAMiddleWare.func1(0x14000140500)\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/middlewares/password.go:25 +0xa8\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000140500)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ndouyin/logger.GinRecovery.func1(0x14000140500)\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/logger/logger.go:135 +0x84\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000140500)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ndouyin/logger.GinLogger.func1(0x14000140500)\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/logger/logger.go:76 +0x8c\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000140500)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1(0x14000140500)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/recovery.go:101 +0x98\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000140500)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0x14000140500)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/logger.go:240 +0xb4\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000140500)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0x14000083d40, 0x14000140500)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/gin.go:616 +0x358\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0x14000083d40, {0x105142b20, 0x140006367e0}, 0x14000140600)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/gin.go:572 +0xbc\nnet/http.serverHandler.ServeHTTP({0x140001bc1e0}, {0x105142b20, 0x140006367e0}, 0x14000140600)\n\t/usr/local/go/src/net/http/server.go:2947 +0x41c\nnet/http.(*conn).serve(0x1400021a0a0, {0x105143438, 0x1400061acc0})\n\t/usr/local/go/src/net/http/server.go:1991 +0x14e0\ncreated by net/http.(*Server).Serve\n\t/usr/local/go/src/net/http/server.go:3102 +0x7e4\n"}
{"level":"INFO","time":"2022-12-29T11:18:27.277+0800","caller":"logger/logger.go:79","msg":"/api/v1/user/register","status":500,"method":"POST","path":"/api/v1/user/register","query":"","ip":"127.0.0.1","user-agent":"PostmanRuntime/7.29.2","errors":"","cost":0.058037291}
{"level":"ERROR","time":"2022-12-29T11:18:43.168+0800","caller":"logger/logger.go:121","msg":"[Recovery from panic]","error":"runtime error: invalid memory address or nil pointer dereference","request":"POST /api/v1/user/register HTTP/1.1\r\nHost: 127.0.0.1:10000\r\nAccept: */*\r\nAccept-Encoding: gzip, deflate, br\r\nConnection: keep-alive\r\nContent-Length: 49\r\nContent-Type: application/json\r\nPostman-Token: 46944ba2-75aa-4a71-adfd-59e53df9b084\r\nUser-Agent: PostmanRuntime/7.29.2\r\n\r\n","stack":"goroutine 37 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:24 +0x64\ndouyin/logger.GinRecovery.func1.1()\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/logger/logger.go:124 +0x4e4\npanic({0x1050917a0, 0x1054eff70})\n\t/usr/local/go/src/runtime/panic.go:890 +0x26c\ngithub.com/jinzhu/gorm.(*Scope).callCallbacks.func1()\n\t/Users/inke226101m/workspace/pkg/mod/github.com/jinzhu/gorm@v1.9.16/scope.go:865 +0xcc\npanic({0x1050917a0, 0x1054eff70})\n\t/usr/local/go/src/runtime/panic.go:890 +0x26c\ndatabase/sql.(*DB).conn(0x0, {0x105143470, 0x14000134080}, 0x1)\n\t/usr/local/go/src/database/sql/sql.go:1288 +0x3c\ndatabase/sql.(*DB).query(0x0, {0x105143470, 0x14000134080}, {0x14000176700, 0x71}, {0x1400011ba30, 0x1, 0x1}, 0x1)\n\t/usr/local/go/src/database/sql/sql.go:1730 +0x64\ndatabase/sql.(*DB).QueryContext(0x0, {0x105143470, 0x14000134080}, {0x14000176700, 0x71}, {0x1400011ba30, 0x1, 0x1})\n\t/usr/local/go/src/database/sql/sql.go:1708 +0x98\ndatabase/sql.(*DB).Query(0x0, {0x14000176700, 0x71}, {0x1400011ba30, 0x1, 0x1})\n\t/usr/local/go/src/database/sql/sql.go:1726 +0x74\ngithub.com/jinzhu/gorm.queryCallback(0x140004d5900)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/jinzhu/gorm@v1.9.16/callback_query.go:72 +0x810\ngithub.com/jinzhu/gorm.(*Scope).callCallbacks(0x140004d5900, {0x14000266c80, 0x3, 0x4})\n\t/Users/inke226101m/workspace/pkg/mod/github.com/jinzhu/gorm@v1.9.16/scope.go:869 +0xe4\ngithub.com/jinzhu/gorm.(*DB).First(0x140001a6d00, {0x1050421e0, 0x140001754a0}, {0x0, 0x0, 0x0})\n\t/Users/inke226101m/workspace/pkg/mod/github.com/jinzhu/gorm@v1.9.16/main.go:334 +0xdc\ndouyin/dao.GetUserData({0x140001348a0, 0x8})\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/dao/user_dao.go:34 +0x1b0\ndouyin/service.UserRegister({{0x140001348a0, 0x8}, {0x140001348a8, 0x8}})\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/service/user_svc.go:23 +0x1b0\ndouyin/controller.UserRegisterHandler(0x14000140500)\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/controller/user_controller.go:18 +0x230\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000140500)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ndouyin/middlewares.SHAMiddleWare.func1(0x14000140500)\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/middlewares/password.go:25 +0xa8\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000140500)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ndouyin/logger.GinRecovery.func1(0x14000140500)\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/logger/logger.go:135 +0x84\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000140500)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ndouyin/logger.GinLogger.func1(0x14000140500)\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/logger/logger.go:76 +0x8c\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000140500)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1(0x14000140500)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/recovery.go:101 +0x98\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000140500)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0x14000140500)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/logger.go:240 +0xb4\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000140500)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0x14000083d40, 0x14000140500)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/gin.go:616 +0x358\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0x14000083d40, {0x105142b20, 0x140006368c0}, 0x14000140700)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/gin.go:572 +0xbc\nnet/http.serverHandler.ServeHTTP({0x140001bc1e0}, {0x105142b20, 0x140006368c0}, 0x14000140700)\n\t/usr/local/go/src/net/http/server.go:2947 +0x41c\nnet/http.(*conn).serve(0x1400021a0a0, {0x105143438, 0x1400061acc0})\n\t/usr/local/go/src/net/http/server.go:1991 +0x14e0\ncreated by net/http.(*Server).Serve\n\t/usr/local/go/src/net/http/server.go:3102 +0x7e4\n"}
{"level":"INFO","time":"2022-12-29T11:18:43.184+0800","caller":"logger/logger.go:79","msg":"/api/v1/user/register","status":500,"method":"POST","path":"/api/v1/user/register","query":"","ip":"127.0.0.1","user-agent":"PostmanRuntime/7.29.2","errors":"","cost":0.023255}
{"level":"ERROR","time":"2022-12-29T11:20:07.325+0800","caller":"logger/logger.go:121","msg":"[Recovery from panic]","error":"runtime error: invalid memory address or nil pointer dereference","request":"POST /api/v1/user/register HTTP/1.1\r\nHost: 127.0.0.1:10000\r\nAccept: */*\r\nAccept-Encoding: gzip, deflate, br\r\nConnection: keep-alive\r\nContent-Length: 49\r\nContent-Type: application/json\r\nPostman-Token: 63a35f04-4abf-4ad9-9438-677f2997577e\r\nUser-Agent: PostmanRuntime/7.29.2\r\n\r\n","stack":"goroutine 37 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:24 +0x64\ndouyin/logger.GinRecovery.func1.1()\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/logger/logger.go:124 +0x4e4\npanic({0x1050917a0, 0x1054eff70})\n\t/usr/local/go/src/runtime/panic.go:890 +0x26c\ngithub.com/jinzhu/gorm.(*Scope).callCallbacks.func1()\n\t/Users/inke226101m/workspace/pkg/mod/github.com/jinzhu/gorm@v1.9.16/scope.go:865 +0xcc\npanic({0x1050917a0, 0x1054eff70})\n\t/usr/local/go/src/runtime/panic.go:890 +0x26c\ndatabase/sql.(*DB).conn(0x0, {0x105143470, 0x14000134080}, 0x1)\n\t/usr/local/go/src/database/sql/sql.go:1288 +0x3c\ndatabase/sql.(*DB).query(0x0, {0x105143470, 0x14000134080}, {0x14000176380, 0x71}, {0x1400011b480, 0x1, 0x1}, 0x1)\n\t/usr/local/go/src/database/sql/sql.go:1730 +0x64\ndatabase/sql.(*DB).QueryContext(0x0, {0x105143470, 0x14000134080}, {0x14000176380, 0x71}, {0x1400011b480, 0x1, 0x1})\n\t/usr/local/go/src/database/sql/sql.go:1708 +0x98\ndatabase/sql.(*DB).Query(0x0, {0x14000176380, 0x71}, {0x1400011b480, 0x1, 0x1})\n\t/usr/local/go/src/database/sql/sql.go:1726 +0x74\ngithub.com/jinzhu/gorm.queryCallback(0x140004d4080)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/jinzhu/gorm@v1.9.16/callback_query.go:72 +0x810\ngithub.com/jinzhu/gorm.(*Scope).callCallbacks(0x140004d4080, {0x14000266c80, 0x3, 0x4})\n\t/Users/inke226101m/workspace/pkg/mod/github.com/jinzhu/gorm@v1.9.16/scope.go:869 +0xe4\ngithub.com/jinzhu/gorm.(*DB).First(0x140001a60d0, {0x1050421e0, 0x140001742c0}, {0x0, 0x0, 0x0})\n\t/Users/inke226101m/workspace/pkg/mod/github.com/jinzhu/gorm@v1.9.16/main.go:334 +0xdc\ndouyin/dao.GetUserData({0x14000134158, 0x8})\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/dao/user_dao.go:34 +0x1b0\ndouyin/service.UserRegister({{0x14000134158, 0x8}, {0x14000134180, 0x8}})\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/service/user_svc.go:23 +0x1b0\ndouyin/controller.UserRegisterHandler(0x14000140100)\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/controller/user_controller.go:18 +0x230\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000140100)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ndouyin/middlewares.SHAMiddleWare.func1(0x14000140100)\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/middlewares/password.go:25 +0xa8\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000140100)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ndouyin/logger.GinRecovery.func1(0x14000140100)\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/logger/logger.go:135 +0x84\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000140100)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ndouyin/logger.GinLogger.func1(0x14000140100)\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/logger/logger.go:76 +0x8c\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000140100)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1(0x14000140100)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/recovery.go:101 +0x98\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000140100)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0x14000140100)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/logger.go:240 +0xb4\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000140100)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0x14000083d40, 0x14000140100)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/gin.go:616 +0x358\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0x14000083d40, {0x105142b20, 0x14000636000}, 0x14000140000)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/gin.go:572 +0xbc\nnet/http.serverHandler.ServeHTTP({0x140001bc1e0}, {0x105142b20, 0x14000636000}, 0x14000140000)\n\t/usr/local/go/src/net/http/server.go:2947 +0x41c\nnet/http.(*conn).serve(0x1400021a0a0, {0x105143438, 0x1400061acc0})\n\t/usr/local/go/src/net/http/server.go:1991 +0x14e0\ncreated by net/http.(*Server).Serve\n\t/usr/local/go/src/net/http/server.go:3102 +0x7e4\n"}
{"level":"INFO","time":"2022-12-29T11:20:07.331+0800","caller":"logger/logger.go:79","msg":"/api/v1/user/register","status":500,"method":"POST","path":"/api/v1/user/register","query":"","ip":"127.0.0.1","user-agent":"PostmanRuntime/7.29.2","errors":"","cost":16.76355075}
{"level":"ERROR","time":"2022-12-29T11:22:42.255+0800","caller":"logger/logger.go:121","msg":"[Recovery from panic]","error":"runtime error: invalid memory address or nil pointer dereference","request":"POST /api/v1/user/register HTTP/1.1\r\nHost: 127.0.0.1:10000\r\nAccept: */*\r\nAccept-Encoding: gzip, deflate, br\r\nConnection: keep-alive\r\nContent-Length: 49\r\nContent-Type: application/json\r\nPostman-Token: 2448a3d8-8fbc-482c-ac90-7328adff779e\r\nUser-Agent: PostmanRuntime/7.29.2\r\n\r\n","stack":"goroutine 37 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:24 +0x64\ndouyin/logger.GinRecovery.func1.1()\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/logger/logger.go:124 +0x4e4\npanic({0x1050917a0, 0x1054eff70})\n\t/usr/local/go/src/runtime/panic.go:890 +0x26c\ngithub.com/jinzhu/gorm.(*Scope).callCallbacks.func1()\n\t/Users/inke226101m/workspace/pkg/mod/github.com/jinzhu/gorm@v1.9.16/scope.go:865 +0xcc\npanic({0x1050917a0, 0x1054eff70})\n\t/usr/local/go/src/runtime/panic.go:890 +0x26c\ndatabase/sql.(*DB).conn(0x0, {0x105143470, 0x14000134080}, 0x1)\n\t/usr/local/go/src/database/sql/sql.go:1288 +0x3c\ndatabase/sql.(*DB).query(0x0, {0x105143470, 0x14000134080}, {0x14000176380, 0x71}, {0x1400011b4b0, 0x1, 0x1}, 0x1)\n\t/usr/local/go/src/database/sql/sql.go:1730 +0x64\ndatabase/sql.(*DB).QueryContext(0x0, {0x105143470, 0x14000134080}, {0x14000176380, 0x71}, {0x1400011b4b0, 0x1, 0x1})\n\t/usr/local/go/src/database/sql/sql.go:1708 +0x98\ndatabase/sql.(*DB).Query(0x0, {0x14000176380, 0x71}, {0x1400011b4b0, 0x1, 0x1})\n\t/usr/local/go/src/database/sql/sql.go:1726 +0x74\ngithub.com/jinzhu/gorm.queryCallback(0x140004d4080)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/jinzhu/gorm@v1.9.16/callback_query.go:72 +0x810\ngithub.com/jinzhu/gorm.(*Scope).callCallbacks(0x140004d4080, {0x14000266c80, 0x3, 0x4})\n\t/Users/inke226101m/workspace/pkg/mod/github.com/jinzhu/gorm@v1.9.16/scope.go:869 +0xe4\ngithub.com/jinzhu/gorm.(*DB).First(0x140001a60d0, {0x1050421e0, 0x140001742c0}, {0x0, 0x0, 0x0})\n\t/Users/inke226101m/workspace/pkg/mod/github.com/jinzhu/gorm@v1.9.16/main.go:334 +0xdc\ndouyin/dao.GetUserData({0x14000134358, 0x8})\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/dao/user_dao.go:34 +0x1b0\ndouyin/service.UserRegister({{0x14000134358, 0x8}, {0x14000134360, 0x8}})\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/service/user_svc.go:23 +0x1b0\ndouyin/controller.UserRegisterHandler(0x14000140100)\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/controller/user_controller.go:18 +0x230\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000140100)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ndouyin/middlewares.SHAMiddleWare.func1(0x14000140100)\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/middlewares/password.go:25 +0xa8\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000140100)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ndouyin/logger.GinRecovery.func1(0x14000140100)\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/logger/logger.go:135 +0x84\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000140100)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ndouyin/logger.GinLogger.func1(0x14000140100)\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/logger/logger.go:76 +0x8c\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000140100)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1(0x14000140100)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/recovery.go:101 +0x98\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000140100)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0x14000140100)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/logger.go:240 +0xb4\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000140100)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0x14000083d40, 0x14000140100)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/gin.go:616 +0x358\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0x14000083d40, {0x105142b20, 0x140006360e0}, 0x14000140200)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/gin.go:572 +0xbc\nnet/http.serverHandler.ServeHTTP({0x140001bc1e0}, {0x105142b20, 0x140006360e0}, 0x14000140200)\n\t/usr/local/go/src/net/http/server.go:2947 +0x41c\nnet/http.(*conn).serve(0x1400021a0a0, {0x105143438, 0x1400061acc0})\n\t/usr/local/go/src/net/http/server.go:1991 +0x14e0\ncreated by net/http.(*Server).Serve\n\t/usr/local/go/src/net/http/server.go:3102 +0x7e4\n"}
{"level":"INFO","time":"2022-12-29T11:22:42.262+0800","caller":"logger/logger.go:79","msg":"/api/v1/user/register","status":500,"method":"POST","path":"/api/v1/user/register","query":"","ip":"127.0.0.1","user-agent":"PostmanRuntime/7.29.2","errors":"","cost":33.885459208}
{"level":"DEBUG","time":"2022-12-29T11:23:35.390+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"ERROR","time":"2022-12-29T11:28:58.411+0800","caller":"logger/logger.go:121","msg":"[Recovery from panic]","error":"runtime error: invalid memory address or nil pointer dereference","request":"POST /api/v1/user/register HTTP/1.1\r\nHost: 127.0.0.1:10000\r\nAccept: */*\r\nAccept-Encoding: gzip, deflate, br\r\nConnection: keep-alive\r\nContent-Length: 49\r\nContent-Type: application/json\r\nPostman-Token: e423c448-c8c8-4c4e-bead-8ddc05759160\r\nUser-Agent: PostmanRuntime/7.29.2\r\n\r\n","stack":"goroutine 21 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:24 +0x64\ndouyin/logger.GinRecovery.func1.1()\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/logger/logger.go:124 +0x4e4\npanic({0x10185d7a0, 0x101cbbf70})\n\t/usr/local/go/src/runtime/panic.go:890 +0x26c\ngithub.com/jinzhu/gorm.(*Scope).callCallbacks.func1()\n\t/Users/inke226101m/workspace/pkg/mod/github.com/jinzhu/gorm@v1.9.16/scope.go:865 +0xcc\npanic({0x10185d7a0, 0x101cbbf70})\n\t/usr/local/go/src/runtime/panic.go:890 +0x26c\ndatabase/sql.(*DB).conn(0x0, {0x10190f470, 0x1400002c0f0}, 0x1)\n\t/usr/local/go/src/database/sql/sql.go:1288 +0x3c\ndatabase/sql.(*DB).query(0x0, {0x10190f470, 0x1400002c0f0}, {0x1400055a080, 0x71}, {0x1400022d150, 0x1, 0x1}, 0x1)\n\t/usr/local/go/src/database/sql/sql.go:1730 +0x64\ndatabase/sql.(*DB).QueryContext(0x0, {0x10190f470, 0x1400002c0f0}, {0x1400055a080, 0x71}, {0x1400022d150, 0x1, 0x1})\n\t/usr/local/go/src/database/sql/sql.go:1708 +0x98\ndatabase/sql.(*DB).Query(0x0, {0x1400055a080, 0x71}, {0x1400022d150, 0x1, 0x1})\n\t/usr/local/go/src/database/sql/sql.go:1726 +0x74\ngithub.com/jinzhu/gorm.queryCallback(0x14000248180)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/jinzhu/gorm@v1.9.16/callback_query.go:72 +0x810\ngithub.com/jinzhu/gorm.(*Scope).callCallbacks(0x14000248180, {0x14000244ca0, 0x3, 0x4})\n\t/Users/inke226101m/workspace/pkg/mod/github.com/jinzhu/gorm@v1.9.16/scope.go:869 +0xe4\ngithub.com/jinzhu/gorm.(*DB).First(0x140005185b0, {0x10180e1e0, 0x14000546000}, {0x0, 0x0, 0x0})\n\t/Users/inke226101m/workspace/pkg/mod/github.com/jinzhu/gorm@v1.9.16/main.go:334 +0xdc\ndouyin/dao.GetUserData({0x140002006a0, 0x8})\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/dao/user_dao.go:33 +0x1b0\ndouyin/service.UserRegister({{0x140002006a0, 0x8}, {0x140002006a8, 0x8}})\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/service/user_svc.go:23 +0x1b0\ndouyin/controller.UserRegisterHandler(0x14000532100)\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/controller/user_controller.go:18 +0x230\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000532100)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ndouyin/middlewares.SHAMiddleWare.func1(0x14000532100)\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/middlewares/password.go:25 +0xa8\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000532100)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ndouyin/logger.GinRecovery.func1(0x14000532100)\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/logger/logger.go:135 +0x84\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000532100)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ndouyin/logger.GinLogger.func1(0x14000532100)\n\t/Users/inke226101m/workspace/src/github.com/longsuizhi/douyin/logger/logger.go:76 +0x8c\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000532100)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1(0x14000532100)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/recovery.go:101 +0x98\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000532100)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1(0x14000532100)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/logger.go:240 +0xb4\ngithub.com/gin-gonic/gin.(*Context).Next(0x14000532100)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/context.go:173 +0x98\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0x14000082820, 0x14000532100)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/gin.go:616 +0x358\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0x14000082820, {0x10190eb20, 0x1400013a1c0}, 0x14000532000)\n\t/Users/inke226101m/workspace/pkg/mod/github.com/gin-gonic/gin@v1.8.2/gin.go:572 +0xbc\nnet/http.serverHandler.ServeHTTP({0x14000522000}, {0x10190eb20, 0x1400013a1c0}, 0x14000532000)\n\t/usr/local/go/src/net/http/server.go:2947 +0x41c\nnet/http.(*conn).serve(0x140001bc000, {0x10190f438, 0x140002421c0})\n\t/usr/local/go/src/net/http/server.go:1991 +0x14e0\ncreated by net/http.(*Server).Serve\n\t/usr/local/go/src/net/http/server.go:3102 +0x7e4\n"}
{"level":"INFO","time":"2022-12-29T11:28:58.418+0800","caller":"logger/logger.go:79","msg":"/api/v1/user/register","status":500,"method":"POST","path":"/api/v1/user/register","query":"","ip":"127.0.0.1","user-agent":"PostmanRuntime/7.29.2","errors":"","cost":284.069735458}
{"level":"DEBUG","time":"2022-12-29T11:29:15.905+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"DEBUG","time":"2022-12-29T17:07:33.580+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"DEBUG","time":"2023-01-11T11:14:59.894+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"DEBUG","time":"2023-01-11T16:31:25.118+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"DEBUG","time":"2023-01-11T16:48:24.793+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"DEBUG","time":"2023-01-11T16:48:50.799+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"DEBUG","time":"2023-01-11T16:49:10.420+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"DEBUG","time":"2023-01-11T16:49:19.403+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"DEBUG","time":"2023-01-11T17:00:53.596+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"DEBUG","time":"2023-01-11T17:02:30.225+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"DEBUG","time":"2023-01-11T17:04:39.198+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"DEBUG","time":"2023-01-11T17:09:22.298+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"DEBUG","time":"2023-01-11T17:10:22.987+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"DEBUG","time":"2023-01-11T17:13:55.178+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"DEBUG","time":"2023-01-11T17:14:14.038+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"DEBUG","time":"2023-01-11T17:21:29.680+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"DEBUG","time":"2023-01-11T17:22:43.089+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"DEBUG","time":"2023-01-11T17:23:01.351+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"INFO","time":"2023-01-11T17:23:38.313+0800","caller":"logger/logger.go:79","msg":"/api/v1/user/register","status":404,"method":"GET","path":"/api/v1/user/register","query":"","ip":"127.0.0.1","user-agent":"PostmanRuntime/7.29.2","errors":"","cost":0.000001875}
{"level":"INFO","time":"2023-01-11T17:23:48.759+0800","caller":"logger/logger.go:79","msg":"/","status":200,"method":"GET","path":"/","query":"","ip":"127.0.0.1","user-agent":"PostmanRuntime/7.29.2","errors":"","cost":0.000162416}
{"level":"ERROR","time":"2023-01-11T17:25:05.253+0800","caller":"service/user_svc.go:19","msg":"CheckLength failed","error":"密码过短"}
{"level":"ERROR","time":"2023-01-11T17:25:07.765+0800","caller":"controller/user_controller.go:20","msg":"service.UserRegister failed","error":"密码过短"}
{"level":"INFO","time":"2023-01-11T17:25:07.775+0800","caller":"logger/logger.go:79","msg":"/api/v1/user/register","status":200,"method":"POST","path":"/api/v1/user/register","query":"","ip":"127.0.0.1","user-agent":"PostmanRuntime/7.29.2","errors":"","cost":17.506473792}
{"level":"ERROR","time":"2023-01-11T17:26:48.829+0800","caller":"service/user_svc.go:49","msg":"CreateUser failed","error":"Error 1054: Unknown column 'pass_word' in 'field list'"}
{"level":"ERROR","time":"2023-01-11T17:26:50.712+0800","caller":"controller/user_controller.go:20","msg":"service.UserRegister failed","error":"Error 1054: Unknown column 'pass_word' in 'field list'"}
{"level":"INFO","time":"2023-01-11T17:26:50.714+0800","caller":"logger/logger.go:79","msg":"/api/v1/user/register","status":200,"method":"POST","path":"/api/v1/user/register","query":"","ip":"127.0.0.1","user-agent":"PostmanRuntime/7.29.2","errors":"","cost":93.526428958}
{"level":"DEBUG","time":"2023-01-11T17:28:06.738+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"DEBUG","time":"2023-01-11T17:31:06.152+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"DEBUG","time":"2023-01-11T17:35:34.223+0800","caller":"app/main.go:34","msg":"logger init success"}
{"level":"INFO","time":"2023-01-11T17:36:07.721+0800","caller":"logger/logger.go:79","msg":"/api/v1/user/register","status":200,"method":"POST","path":"/api/v1/user/register","query":"","ip":"127.0.0.1","user-agent":"PostmanRuntime/7.29.2","errors":"","cost":24.588934125}
